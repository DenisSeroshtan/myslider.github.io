!function($){$.fn.mySlider=function(settings){var options=$.extend({moveSlide:"horizontal",activeSlideNum:1,buttons:!0,dots:!0,btnArray:[">","<"],duration:4e3,autoSlide:!1,equalHeights:!1},settings);return this.each(function(){function equal(){items.height("auto"),maxHeight=0,items.each(function(){var $this=$(this),itemsHeight=$this.outerHeight();maxHeight=itemsHeight>maxHeight?itemsHeight:maxHeight}),items.height(maxHeight)}var thisSlider=$(this),items=thisSlider.find(".mySlider__item");if(thisSlider.hasClass("mySlider")){options.equalHeights&&(equal(),$(window).on("resize",equal));var Slider=function(){var flag=!1,timer=0;return{init:function(){var _this=this;_this.createElement();var btn=thisSlider.find(".mySlider__btn"),dots=thisSlider.find(".mySlider__dots-item");options.autoSlide&&_this.autoSwitch(),btn.on("click",function(e){e.preventDefault();var $this=$(this),slides=items,activeSlide=slides.filter(".active"),nextSlide=activeSlide.next(),prevSlide=activeSlide.prev(),firstSlide=slides.first(),lastSlide=slides.last();_this.clearTimer(),$this.hasClass("mySlider__btn-next")?nextSlide.length?_this.moveSlide(nextSlide,"forward"):_this.moveSlide(firstSlide,"forward"):prevSlide.length?_this.moveSlide(prevSlide,"backward"):_this.moveSlide(lastSlide,"backward")}),dots.on("click",function(e){e.preventDefault();var $this=$(this),activeDot=dots.filter(".active"),curDotNum=$this.index(),direction=activeDot.index()<curDotNum?"forward":"backward",reqSlide=items.eq(curDotNum);$this.hasClass("active")||(_this.moveSlide(reqSlide,direction),_this.clearTimer())})},createElement:function(){var _this=this;if(items.wrapAll("<div class='mySlider__list' />"),options.activeSlideNum<=items.length&&options.activeSlideNum>=0?items.eq(options.activeSlideNum-1).addClass("active"):items.eq(0).addClass("active"),options.buttons){thisSlider.append('<div class="mySlider__nav" />');var navContainer=thisSlider.find(".mySlider__nav");navContainer.append('<div class="mySlider__btn mySlider__btn-next" /><div class="mySlider__btn mySlider__btn-prev" />');var btnNext=thisSlider.find(".mySlider__btn-next"),btnPrev=thisSlider.find(".mySlider__btn-prev");btnNext.html(options.btnArray[0]),btnPrev.html(options.btnArray[1])}if(options.dots){thisSlider.append('<ul class="mySlider__dots" />');for(var dotsContainer=thisSlider.find(".mySlider__dots"),dotsMarkup='<li class="mySlider__dots-item" />',i=0;i<items.length;i++)dotsContainer.append(dotsMarkup);_this.setActiveDot()}},setActiveDot:function(){var slides=items;thisSlider.find(".mySlider__dots-item").eq(slides.filter(".active").index()).addClass("active").siblings().removeClass("active")},autoSwitch:function(){var _this=this;timer=setInterval(function(){var slides=items,activeSlide=slides.filter(".active"),nextSlide=activeSlide.next(),firstSlide=slides.first();nextSlide.length?_this.moveSlide(nextSlide,"forward"):_this.moveSlide(firstSlide,"forward")},options.duration)},clearTimer:function(duration){timer&&(clearInterval(timer),this.autoSwitch())},moveSlide:function(slide,direction){function directionAnimate(pos){"top"==pos?"forward"==direction?(reqCssPosition=slideHeight,reqSlideStrafe=-slideHeight):"backward"==direction&&(reqCssPosition=-slideHeight,reqSlideStrafe=slideHeight):"left"==pos&&("forward"==direction?(reqCssPosition=slideWidth,reqSlideStrafe=-slideWidth):"backward"==direction&&(reqCssPosition=-slideWidth,reqSlideStrafe=slideWidth)),objActiveAnimate={},objMovebleAnimate={},objActiveAnimate[pos]=reqSlideStrafe,objMovebleAnimate[pos]=0,slide.css(pos,reqCssPosition).addClass("inslide");var movebleSlide=slides.filter(".inslide");activeSlide.animate(objActiveAnimate,duration),movebleSlide.animate(objMovebleAnimate,duration,function(){var $this=$(this);slides.css(pos,0).removeClass("active"),$this.toggleClass("inslide active"),_this.setActiveDot(),flag=!1})}var _this=this,slides=items,activeSlide=slides.filter(".active"),slideWidth=slides.outerWidth(),slideHeight=slide.outerHeight(),duration=500,reqCssPosition=0,reqSlideStrafe=0;flag||(flag=!0,"horizontal"==options.moveSlide?directionAnimate("left"):"vertical"==options.moveSlide&&directionAnimate("top"))}}}();Slider.init()}}),this}}(jQuery);